---
layout: post
title: openapi-doc
date: 2025-07-07
tags: [Jekyll, GitHub Pages]
permalink: /openapi/
---
# Overview

## Introduction

OpenAPI platform provides interface services for both individual quant developers and institutional clients. To make the
APIs easier to use, we developed this Software Development Kit (SDK). The OpenAPI SDK provides a convenient way for our
users to trade, monitor, and manage their accounts through their self-designed programs, using Java or Python.
Currently, OpenAPI supports all types of opened accounts, including prime accounts and paper trade accounts.

## Primary Users

The OpenAPI platform is designed for quantitative investors with a basic understanding in quantitative trading
strategies and a working knowledge of software development.

## Major Functions

* Create orders, modify or cancel orders, and check the status of orders
* Check account assets, such as balances and current positions
* Get market data, such as quotes for U.S. stocks or options, as well as other related market data
* Get notifications for changes in order status, positions, or market price of a specific stock, etc.

## Trading

### Available Trading Products – U.S. Market:

| Products                                                             | Prime Account | Paper Account |
|----------------------------------------------------------------------|---------------|---------------|
| Stocks, ETFs (Fractional Shares is only available in Prime Accounts) | Yes           | Yes           |
| Options                                                              | Yes           | Yes           |

### Supported Order Types:

* Market Order
* Limit Order
* Stop Order
* Stop-Limit Order

## Market Data

### Market Quote Access Levels:

| Product Type | Quote Subscription         |
|--------------|----------------------------|
| Stocks       | Level 1 (Nasdaq Basic)     |
| Stocks       | Level 2 (Nasdaq Totalview) |
| Options      | Level 1                    |

### Market Data Permissions Overview:

We offer two types of market data permissions for US stocks:

| Market Data Level                     | Description                                                                                                                                 |
|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| US Stock Level 1 Basic Market Data    | Level 1 data allows you to view the latest stock prices, detailed trade-by-trade data, and the best bid and ask data.                       |
| US Stock Level 2 Advanced Market Data | Level 2 data provides deep market information, including 40 levels of depth data, volume-price distribution charts, and large order alerts. |

### Subscribing to Market Data:

To get market data via OpenAPI, you must have an active API market data subscription. This subscription is independent
from the market subscription for our APP.

Currently, we offer free market data subscriptions for OpenAPI users.

# Applying for API Service

To use OpenAPI, you need to first open a trading account and complete a deposit.

Users can use OpenAPI for free as long as they have an active and funded TradeUP account. OpenAPI is a free
service—there are no additional fees for orders placed via OpenAPI.

#### For Individual Investors:

Once your account is opened and funded, you can visit the [Developer Platform](https://developer.tradeup.com/) to
complete the onboarding process.

#### For Institutional Investors:

Please register through the [Institutional Hub](https://www.tradeup.com/acct/auth/login?next=%2F). Access rights will be
granted upon approval.

If you encounter any issues during the setup process, feel free to contact us at *
*[service@tradeup.com](mailto:service@tradeup.com)**

# SDK Setup & API Configuration Guide (Java)

### Environment Requirements

* Supported OS: Windows / macOS / Linux
* JDK: Version 1.8+ required ([Download from Oracle](https://www.oracle.com/java/technologies/downloads/))
* IDE: IntelliJ IDEA recommended ([Download here](https://www.jetbrains.com/idea/download/))

### Install OpenAPI Java SDK

​**Method 1​: ​​Maven (Recommended)**

Add this dependency to your pom.xml:

```XML

<dependency>
    <groupId>io.github.tigerbrokers</groupId>
    <artifactId>openapi-java-sdk</artifactId>
    <version>x.y.z</version>
</dependency>
```

​**Method 2: Github Code Repository**

Clone the SDK from GitHub:

```Shell
git clone https://github.com/tigerbrokers/openapi-java-sdk
```

### Registered Developer Information

Before using OpenAPI, you must open and fund your TradeUP account and apply for OpenAPI permission. Personal users can
register as developers on the [Developer Platform](https://developer.tradeup.com/) , and institutional users can access
OpenAPI via the Institutional Hub. **Please use Chrome for this page.**

In order to access OpenAPI, you need to open and fund your TradeUP account.

During the registration process, you will be asked to sign an API authorization agreement, as well as complete your
developer information registration.

​**Upon successful registration, you will ​receive:**

* **tigerId: ​**Unique developer identifier (required for all API calls).
* ​**Account: ​**Trading account number (2 types)
    * **Prime ​Account: ​**8-digit number (e.g. 51230321)
    * ​**Paper Account: ​**18 digit number (e.g. 132866752080200131)\
      Only active accounts with balance will be shown on the page.

**Developer ​Registration ​Page: ​**Register using your phone and a verification code.

**Developer ​Info Page: ​**Tiger ID, Prime Account, Paper Account, and License Info will be used in SDK.

**​Attention:​ Please​ store your privateKey in a local and secure place in order prevent unauthorized exposure or loss
of personal information. Your privateKey will not be stored on TradeUP's server, and will disappear automatically when
the page is refreshed. If you fail to save your privateKey, it may be replaced by clicking the ​​`re-generate`​ button.
​**

**If you find that your information has been compromised, please update your privateKey immediately. ​**

OpenAPI uses RSA encryption for authentication. The RSA bidirectional signature authentication mechanism is used to
prevent interface requests from being maliciously tampered with.

After saving your privateKey, download the tiger\_openapi\_config.properties file. Copy the
tiger\_openapi\_config.properties file to the directory configured by ​**ClientConfig.DEFAULT\_CONFIG.configFilePath**​.

​**Attention**​:

* The Java private key is formatted in PKCS 8 syntax, which is different from the format used by the Java SDK. If any
  problems occur when you use the SDK, please ensure that your private key is in the correct format.

The content format of the tiger\_openapi\_config.properties file is as follows. 'account' is the default prime account
number, and can be replaced with a paper account number.

```Properties
private_key_pk8=MIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBAKh0zh3342PxJS7HFJtIwXE0czbeF+2MC5ev14rf7IWssYD+bHCj0dgSFiPEKBgAm3vzFvPDtqIq733fjk7yKXyezpQveZPn1CUIq7T4VmYXaDni17KqiKiXvXFwzT3oPeyzSgnMoa35u2+UHN1ytczr6lmpsrXgBJYYTi4ffegMBAAECgYBfmIGMVVOeDOFsMhABnvcL2qPWotzfI+pn4rIluCyR4t4yUILwNY7CcxAyOrFe0Chdl7F9Up2JP+UgbcljebpRHN9jAm3lVQP0t4hzI/G6PsSDa/GVnAnqyVPsNDoskJtR7U9QOUopdh7/ARQ0nd0Qn94USFHy83IWVbwMmP5rPQJBAOFDBhRkhyr71YNxJ6flKbmhLvrlssss2SmiRq759n8f03BPRT6NoQfKzBkwkFMMnjaJLwdXQy4Z20snsnMcCQQC/cWrUAccnVPLG1/9VYcFF/HfTg0WUNfzsmLu7K/W37TllhVPRTxDkJQ90EDdB7EwEp3WLoFdQf/E5jlpf5StnAkEApHt6Pv3ArSRCHb5MRI5Sz1bgpRd01Kg7dhXt8zka/Pdh6nHjGR1nV1xTe1I5sPNPrch95RoIKYZSdpbhB8ycFQJBAIw6wrqatst7sP2wGArtuQnPveID5QKEbUjNM64NrEZWkNVpTRUjakcDUod8nU0/jgtWsoZdI7gGj6bOPCrEDf8CQQCkDyuhQpe0pOoLatvyGzkCxwykcVSXtltV4pfXiACD1A9bGSHwFwHV2WMCyunuKsS2rhV7MPYJ/jRvnYVwer3r
tiger_id=20550001
account=12345678
license=TBUS
env=PROD
```

**Additional ​Configurations ​​(​Optional)**

| **Name**      | **Description**                                                                                                                                                                                    |
|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| IP White List | Only IP addresses in the white list can access OpenAPI. Use “;” to divide multiple IPs                                                                                                             |
| Callback URL  | A customized callback URL for the user's program, used to receive updates on order and account statuses. Users can also use the callback function provided in the SDK to receive callback messages |

### API Configuration

Before using OpenAPI, you will need to configure the API interface call. Specific configuration information (tigerId,
account, license, privateKey, and other configurations) can be found on the developer information page.

The 'tiger\_openapi\_token.properties' configuration file is required and must be placed in the path specified
by `configFilePath`.

```java
public static ClientConfig clientConfig = ClientConfig.DEFAULT_CONFIG;
public static TigerHttpClient client;

static {
    // set log directory. log file name: tiger_openapi.2023-02-22.log
    ApiLogger.setEnabled(true, "/data/tiger_openapi/logs/");
    // ApiLogger.setDebugEnabled(false);        // ouput debug level log
    // The tiger_openapi_config.properties file is stored in your local directory.
    clientConfig.configFilePath = "/data/tiger_config";
    // clientConfig.isSslSocket = true;         // default is true
    // clientConfig.isAutoGrabPermission = true;// default is true
    // clientConfig.failRetryCounts = 2;        // fail retry count, default is 2
    clientConfig.timeZone = TimeZoneId.NewYork;
    clientConfig.language = Language.en_US;
    // clientConfig.secretKey = "xxxxxx";// Institutional user private key
    client = TigerHttpClient.getInstance().clientConfig(clientConfig);
}
```

Configuration instructions:

> * clientConfig.configFilePath: The directory where tiger\_openapi\_config.properties and
    tiger\_openapi\_token.properties are stored
> * clientConfig.tigerId: tigerId (tiger\_openapi\_config.properties file configuration priority)
> * clientConfig.defaultAccount: account, live account or paper account (tiger\_openapi\_config.properties file
    configuration priority)
> * clientConfig.privateKey: RSA key (tiger\_openapi\_config.properties file configuration priority)
> * clientConfig.secretKey: The key for an institutional trader. If you are an institutional user, you need to configure
    this information
> * clientConfig.isSslSocket: Whether the socket uses SSL
> * clientConfig.isAutoGrabPermission: Whether to grab quote permission for this device during initialization
> * clientConfig.failRetryCounts: The number of retries for API request failures, up to 5 times
> * clientConfig.timeZone: The default time zone, used when requesting the API
> * clientConfig.language: The default language, used when requesting the API

# SDK Setup & API Configuration Guide (Python)

### Environment requirement

* Supported OS: Windows / macOS / Linux
* Programming language: Python 3.4 or later

### Install Python

To minimize compatibility issues, we recommend you to install the latest version of Python. Versions earlier than Python
3.4 may not work properly. You can type 'python3 -v' in your terminal or command prompt to check your version or verify
your installation.

**Install ​the ​latest ​version of Python:**

1. Visit the Download page on the Python website: [https://www.python.org/downloads/](https://www.python.org/downloads/)
2. Select your operating system, download the installation package, and install as prompted

### Install OpenAPI Python SDK

​**Method 1: ​Use pip to install (​Recommended)**

In Terminal or CMD, enter the following command to install the OpenAPI Python SDK:

```Plain
pip3 install tigeropen
```

If you need to upgrade the version, you can use:

```Shell
pip3 install tigeropen --upgrade
```

​**Method 2: ​Github**

The source code of the OpenAPI SDK project is also available on Github. The Github address is:

[https://github.com/tigerfintech/openapi-python-sdk](https://github.com/tigerfintech/openapi-python-sdk)

To install:

1. Clone the project into your local directory
2. Run setup.py in your directory directory using the following command: `python3 setup.py install`

### Install IDE

We recommend using PyCharm as your IDE.

Official Download page:

[https://www.jetbrains.com/pycharm/download/](https://www.jetbrains.com/pycharm/download/)

### Registered Developer Information

In order to access OpenAPI, you need to open and fund your TradeUP account.

During the registration process, you will be asked to sign an API authorization agreement. After that, you need to fill
in your preferred account configuration and click "update". You will need to fill in the following information:

| **Name**       | **Required** | **Description**                                                                                                                                                                                     |
|----------------|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RSA public key | Yes          | Auto generated by the API website.The RSA public key ensures the security of your account using the RSA two-way signature mechanism. The keys protect the API request from being illegally changed. |
| IP White List  | No           | Only IP addresses in the white list can access OpenAPI. Use “;” to divide multiple IPs                                                                                                              |
| Callback URL   | No           | A customized callback URL for the user's program, used to receive updates on order and account statuses. Users can also use the callback function provided in the SDK to receive callback messages  |

**You can obtain the following information upon ​successful registration: ​**

* **tigerId: ​** A unique Developer ID assigned by the OpenAPI platform. It is used to identify a developer; you have to
  pass the ID to use API.
* ​**account: ​** Account number, you will need to pass in your account number when you are calling trade related APIs.
  There are 2 types of accounts: prime account and paper account.
    * **Prime ​Account**​: number(5 to 10 digit), e.g., 51230321
    * ​**Paper Account**​: 17 digit number, e.g., 20191106192858300

Only active accounts with a balance will be shown on the page. If a user has both an active prime account and a paper
account, they will both be shown on the developer info page.

### RSA Keys

OpenAPI uses RSA encryption for authentication. The RSA bidirectional signature authentication mechanism is used to
prevent interface requests from being maliciously tampered with. Users will save their private keys locally.

​**Attention: ​**

1. The Java private key format is different from that used by the Python SDK. The Python private key format is PKCS#1.
   If any problem occurs when you use the SDK, please check whether the private key is in the correct format first.

***

### **Configuration**

Using a configuration file.

Export the configuration file `tiger_openapi_config.properties` from the developer website and place it in an
appropriate system path, such as `/Users/demo/props/`. Then, specify this path in the `props_path` parameter
of `TigerOpenClientConfig` (or place the configuration file in the current program directory; the SDK will default to
the current path).

The content format of the tiger\_openapi\_config.properties file is as follows. 

```Properties
private_key_pk1=MIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBAKh0zh3342PxJS7HFJtIwXE0czbeF+2MC5ev14rf7IWssYD+bHCj0dgSFiPEKBgAm3vzFvPDtqIq733fjk7yKXyezpQveZPn1CUIq7T4VmYXaDni17KqiKiXvXFwzT3oPeyzSgnMoa35u2+UHN1ytczr6lmpsrXgBJYYTi4ffegMBAAECgYBfmIGMVVOeDOFsMhABnvcL2qPWotzfI+pn4rIluCyR4t4yUILwNY7CcxAyOrFe0Chdl7F9Up2JP+UgbcljebpRHN9jAm3lVQP0t4hzI/G6PsSDa/GVnAnqyVPsNDoskJtR7U9QOUopdh7/ARQ0nd0Qn94USFHy83IWVbwMmP5rPQJBAOFDBhRkhyr71YNxJ6flKbmhLvrlssss2SmiRq759n8f03BPRT6NoQfKzBkwkFMMnjaJLwdXQy4Z20snsnMcCQQC/cWrUAccnVPLG1/9VYcFF/HfTg0WUNfzsmLu7K/W37TllhVPRTxDkJQ90EDdB7EwEp3WLoFdQf/E5jlpf5StnAkEApHt6Pv3ArSRCHb5MRI5Sz1bgpRd01Kg7dhXt8zka/Pdh6nHjGR1nV1xTe1I5sPNPrch95RoIKYZSdpbhB8ycFQJBAIw6wrqatst7sP2wGArtuQnPveID5QKEbUjNM64NrEZWkNVpTRUjakcDUod8nU0/jgtWsoZdI7gGj6bOPCrEDf8CQQCkDyuhQpe0pOoLatvyGzkCxwykcVSXtltV4pfXiACD1A9bGSHwFwHV2WMCyunuKsS2rhV7MPYJ/jRvnYVwer3r
tiger_id=20550001
account=12345678
license=TBUS
env=PROD
secret_key=
# secret_key is required for institutional clients only
```

Demo code: 

```python
from tigeropen.common.consts import (Language,        # Language
                                     Market,          # Market
                                     BarPeriod,       # K-line period
                                     QuoteRight)      # Adjustment type
from tigeropen.tiger_open_config import TigerOpenClientConfig

def get_client_config():
    client_config = TigerOpenClientConfig(props_path='/Users/demo/props/')
    return client_config

# Create the client_config object using the above-defined function
client_config = get_client_config()

# Initialize QuoteClient with the configuration object
quote_client = QuoteClient(client_config)

# Retrieve market data for ticker AAPL
stock_price = quote_client.get_stock_briefs(['AAPL'])
```

You can download this [demo project](https://github.com/tigerfintech/openapi-doc/blob/main/demo/demo-project.zip), and replace the content of properties config file


### **Introduction to Common ClientConfig Configuration Options**

After initiating `client_config = TigerOpenClientConfig()`, you can set configuration properties
using `client_config.<property>`, such as `client_config.timeout = 60`.

```python

# Logging level and path
client_config.log_level = logging.DEBUG  # Requires `import logging`
client_config.log_path = '/tmp/tigerapi.log'

# Language
client_config.language = 'en_US'
# Timezone (If a timezone is set, time-related string parameters will be processed as this timezone. By default, SDK does not set a timezone, and the server assumes US/Eastern time.)
client_config.timezone = 'US/Eastern'

# API timeout
client_config.timeout = 15
# Retry settings
# Maximum retry duration in seconds
client_config.retry_max_time = 60
# Maximum number of retry attempts
client_config.retry_max_tries = 5

# 2FA token refresh interval in seconds. Set to 0 to disable automatic refresh
client_config.token_refresh_duration = 24 * 60 * 60

```

# Basic Functions (Python)

## Quote APIs

### General

| Method                  | Description                                                                                                                                       | Parameters                                           | Response                                                                       |
|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|--------------------------------------------------------------------------------|
| grab\_quote\_permission | Set the current device as the primary to receive quote data when using the same ID across multiple devices. Required only when switching devices. | market (enum: Market.ALL)<br />lang (enum, optional) | list: name (string)<br />expire\_at (long)                                     |
| get\_quote\_permission  | Retrieve the current quote permissions. Return a list of permission maps. If empty, the permission may have been taken by another device.         | None                                                 | list: name (string)<br />expire\_at (long)                                     |
| get\_kline\_quota       | Query the used and remaining symbol historical K-line quota by user level, covering stocks, and stock-related options.                            | with\_details (boolean, optional)                    | used (integer)<br />remain (integer)<br />method (string)<br />details (array) |

### Stock Quote

| Method                   | Description                                                                                                                                                                                           | Parameters                                                                                                                                                                                                                                                                                                                                 | Response                                                                                                                                                                                                                                                                                      |
|--------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| get\_market\_status      | Retrieve the current trading status of specified markets, including whether they are open or closed, trading hours, and any special market conditions or holidays that may affect trading activities. | market (enum: Market.ALL)<br />lang (enum, optional)                                                                                                                                                                                                                                                                                       | market (string)<br />trading\_status (string)<br />status (string)<br />open\_time (datetime)                                                                                                                                                                                                 |
| get\_trading\_calendar   | Provide the trading calendar for specified exchanges, including market open/close dates, holidays, and special trading sessions, helping traders plan their activities around market schedules.       | market (enum)<br />begin\_date (string, optional)<br />end\_date (string, optional)                                                                                                                                                                                                                                                        | date (string)<br />type (string: TRADING/EARLY\_CLOSE)                                                                                                                                                                                                                                        |
| get\_symbols             | Return a comprehensive list of stock symbols traded on specified exchanges, including active securities with their corresponding market identifiers and trading statuses.                             | market (enum: Market.ALL)<br />include\_otc (boolean, default=False)                                                                                                                                                                                                                                                                       | array of strings                                                                                                                                                                                                                                                                              |
| get\_symbol\_names       | Retrieve both the ticker symbols and full company names for stocks across multiple markets, enabling easy identification and reference of publicly traded companies.                                  | market (enum: Market.ALL)<br />lang (enum, optional)<br />include\_otc (boolean, default=False)                                                                                                                                                                                                                                            | array of tuples: (symbol, name)                                                                                                                                                                                                                                                               |
| get\_timeline            | Fetch intraday price timeline data for specified securities, including open, high, low, and close values at regular intervals throughout the trading day.                                             | symbols (array)<br />include\_hour\_trading (boolean, default=False)<br />begin\_time (string/timestamp, optional)<br />lang (enum, optional)<br />trade\_session (enum, optional)                                                                                                                                                         | symbol (string)<br />time (timestamp)<br />price (float)<br />avg\_price (float)<br />pre\_close (float)<br />volume (integer)<br />trading\_session (string)                                                                                                                                 |
| get_timeline_history     | Access historical intraday price timeline data for securities, allowing analysis of past trading patterns and price movements at granular time intervals.                                             | symbols (array)<br>date (string)<br>right (enum: QuoteRight.BR, optional)                                                                                                                                                                                                                                                                  | symbol (string)<br>time (timestamp)<br>price (float)<br>avg_price (float)                                                                                                                                                                                                                     |
| get_stock_briefs         | Provide real-time streaming quotes for stocks, including current bid/ask prices, last trade details, volume, and other essential market data with minimal latency.                                    | symbols (array)<br>include_hour_trading (boolean, default=False)<br>lang (enum, optional)                                                                                                                                                                                                                                                  | symbol (string)<br>ask_price (float)<br>ask_size (integer)<br>bid_price (float)<br>bid_size (integer)<br>pre_close (float)<br>latest_price (float)<br>latest_time (timestamp)<br>volume (integer)<br>open (float)<br>high (float)<br>low (float)<br>status (string)<br>adj_pre_close (string) |
| get_stock_delay_briefs   | Deliver delayed market quotes (typically 15 minutes for US markets) for stocks. Suitable for non-professional traders or analytical purposes where real-time data isn't required.                     | symbols (array)<br>lang (enum, optional)                                                                                                                                                                                                                                                                                                   | symbol (string)<br>pre_close (float)<br>time (timestamp)<br>volume (integer)<br>open (float)<br>high (float)<br>low (float)<br>close (float)<br>halted (float)                                                                                                                                |
| get_bars                 | Retrieve historical price bars (OHLC data) for securities over specified timeframes, supporting various chart intervals from minutes to months for technical analysis.                                | symbols (array)<br>period (enum: BarPeriod.DAY)<br>begin_time (timestamp/string, optional)<br>end_time (timestamp/string, optional)<br>right (enum: QuoteRight.BR)<br>limit (integer, default=251)<br>lang (enum, optional)<br>page_token (string, optional)<br>trade_session (enum, optional)                                             | time (timestamp)<br>open (float)<br>close (float)<br>high (float)<br>low (float)<br>volume (float)<br>amount (float)<br>next_page_token (string)                                                                                                                                              |
| get_bars_by_page         | Enable paginated access to extensive historical price bar datasets, allowing efficient retrieval of large amounts of market data without overwhelming system resources.                               | symbol (string)<br>period (enum: BarPeriod.DAY)<br>begin_time (timestamp/string, optional)<br>end_time (timestamp/string, optional)<br>total (integer, default=10000)<br>page_size (integer, default=1000)<br>right (enum: QuoteRight.BR)<br>time_interval (integer, default=2)<br>lang (enum, optional)<br>trade_session (enum, optional) | time (timestamp)<br>open (float)<br>close (float)<br>high (float)<br>low (float)<br>volume (float)<br>next_page_token (string)                                                                                                                                                                |
| get_trade_ticks          | Provide detailed tick-by-tick trade data for securities, including timestamps, prices, and volumes of individual transactions executed on the exchange.                                               | symbols (array)<br>trade_session (enum, optional)<br>begin_index (integer, optional)<br>end_index (integer, optional)<br>limit (integer, optional)<br>lang (enum, optional)                                                                                                                                                                | index (integer)<br>time (timestamp)<br>price (float)<br>volume (integer)<br>direction (string: +/-/*)                                                                                                                                                                                         |
| get_depth_quote          | Retrieve complete order book depth data, showing current bid/ask orders at multiple price levels to assess market liquidity and potential price movements.                                            | symbols (array)<br>market (enum)                                                                                                                                                                                                                                                                                                           | symbol (string)<br>asks (array: price, quantity, order_count)<br>bids (array: price, quantity, order_count)                                                                                                                                                                                   |
| get_trade_metas          | Supply essential trading metadata including lot sizes, tick sizes, and other contract specifications required for proper order entry and risk management.                                             | symbols (array)                                                                                                                                                                                                                                                                                                                            | symbol (string)<br>lot_size (integer)<br>min_tick (float)<br>spread_scale (float)                                                                                                                                                                                                             |
| get_capital_flow         | Track capital movement patterns between sectors or individual stocks, showing inflow/outflow trends that may indicate shifting market sentiment.                                                      | symbol (string)<br>market (string)<br>period (string)<br>begin_time (timestamp/string, optional)<br>end_time (timestamp/string, optional)<br>limit (integer, default=200)<br>lang (enum, optional)                                                                                                                                         | symbol (string)<br>period (string)<br>time (string)<br>timestamp (timestamp)<br>net_inflow (float)                                                                                                                                                                                            |
| get_capital_distribution | Analyze how trading capital is distributed across price levels for specific securities, revealing concentration areas and potential support/resistance zones.                                         | symbol (string)<br>market (string)<br>lang (enum, optional)                                                                                                                                                                                                                                                                                | symbol (string)<br>net_inflow (double)<br>in_all (double)<br>in_big (double)<br>in_mid (double)<br>in_small (double)<br>out_all (double)<br>out_big (double)<br>out_mid (double)<br>out_small (double)                                                                                        |
| get_trade_rank           | Rank stocks based on various trading metrics (volume, price change, etc.), helping identify the most actively traded or rapidly moving securities.                                                    | market (enum)<br>lang (enum, default=Language.en_US)                                                                                                                                                                                                                                                                                       | symbol (string)<br>market (string)<br>name (string)<br>sec_type (string)<br>change_rate (float)<br>sell_order_rate (float)<br>buy_order_rate (float)<br>hour_trading_trading_status (integer)<br>hour_trading_trade_session (string)<br>hour_trading_change_rate (float)                      |

### Option Quote

| Method                    | Description                                                                         | Parameters                                                                                                                                                                                                                                                                                   | Response                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|---------------------------|-------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| get\_option\_expirations  | Access all expiration dates for options including weekly and monthly contracts      | symbols (array)<br />market (enum: Market.US)                                                                                                                                                                                                                                                | symbol (string)<br />date (string)<br />timestamp (timestamp)<br />period\_tag (string)                                                                                                                                                                                                                                                                                                                                                                             |
| get\_option\_chain        | Retrieve complete option chains showing all available strikes and expiration months | identifiers (array)<br />market (enum: Market.US)                                                                                                                                                                                                                                            | identifier (string)<br />symbol (string)<br />strike (string)<br />bid\_price (float)<br />bid\_size (integer)<br />ask\_price (float)<br />ask\_size (integer)<br />latest\_price (float)<br />latest\_time (float)<br />volume (integer)<br />pre\_close (float)<br />high (float)<br />open\_interest (integer)<br />open (float)<br />multiplier (integer)<br />rates\_bonds (float)<br />put\_call (string)<br />volatility (string)<br />expiry (integer)     |
| get\_option\_briefs       | Obtain current pricing data including Greeks (delta, gamma) and implied volatility  | symbol (string)<br />expiry (string/timestamp)<br />option\_filter (object, optional)<br />return\_greek\_value (boolean, optional)<br />market (enum: Market.US)<br />timezone (string, optional)                                                                                           | identifier (string)<br />symbol (string)<br />expiry (timestamp)<br />strike (float)<br />put\_call (string)<br />multiplier (float)<br />ask\_price (float)<br />ask\_size (integer)<br />bid\_price (float)<br />bid\_size (integer)<br />pre\_close (float)<br />latest\_price (float)<br />volume (integer)<br />open\_interest (integer)<br />implied\_vol (float)<br />delta (float)<br />gamma (float)<br />theta (float)<br />vega (float)<br />rho (float) |
| get\_option\_bars         | Access historical price data for analyzing options price movements over time        | identifiers (array)<br />begin\_time (timestamp/string, default=-1)<br />end\_time (timestamp/string, default=4070880000000)<br />period (enum: BarPeriod.DAY)<br />limit (integer, optional)<br />sort\_dir (enum, optional)<br />market (enum: Market.US)<br />timezone (string, optional) | identifier (string)<br />symbol (string)<br />expiry (string)<br />put\_call (string)<br />strike (float)<br />time (timestamp)<br />open (float)<br />high (float)<br />low (float)<br />close (float)<br />volume (integer)<br />open\_interest (integer)                                                                                                                                                                                                         |
| get\_option\_trade\_ticks | Receive tick-by-tick trade execution data for options contracts                     | identifiers (array)                                                                                                                                                                                                                                                                          | symbol (string)<br />expiry (string)<br />put\_call (string)<br />strike (float)<br />time (timestamp)<br />price (float)<br />volume (integer)                                                                                                                                                                                                                                                                                                                     |
| get\_option\_depth        | View complete options order book showing market depth at various strikes            | identifiers (array)<br />market (enum: Market.US)<br />timezone (string, optional)                                                                                                                                                                                                           | identifier (string)<br />asks (array: price, volume, timestamp, code)<br />bids (array: price, volume, timestamp, code)                                                                                                                                                                                                                                                                                                                                             |

## Trading APIs

### View Account Information

| Method                            | Description                                                                                                                                               | Parameters                                                                                                                                                                                           | Response                                                                                                                                                                                                                                                                    |
|-----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| get\_managed\_accounts            | Retrieve list of all managed trading accounts under main account including account numbers, types, and permissions for comprehensive portfolio management | account(str)                                                                                                                                                                                         | AccountProfile:<br />- account(str)<br />- capability(str)<br />- status(str)<br />- accountType(str)                                                                                                                                                                       |
| get\_assets                       | Access complete asset information including cash balances, stock positions, and margin details across all linked trading accounts                         | account(str)<br />sub\_accounts(list\[str])<br />segment(bool)<br />market\_value(bool)<br />secret\_key(str)                                                                                        | PortfolioAccount:<br />- account(str)<br />- summary(Account)<br />- segments(dict)<br />- market\_values(dict)<br />Account:<br />- available\_funds(float)<br />- buying\_power(float)<br />- cash(float)<br />- equity\_with\_loan(float)<br />- net\_liquidation(float) |
| get\_prime\_assets                | Obtain asset details specifically for prime/paper trading accounts showing simulated balances and positions for strategy testing                          | account(str)<br />base\_currency(str)<br />consolidated(bool)                                                                                                                                        | PortfolioAccount:<br />- account(str)<br />- update\_timestamp(long)<br />- segments(dict)<br />Segment:<br />- currency(str)<br />- capability(str)<br />- cash\_balance(float)<br />- cash\_available\_for\_trade(float)<br />- gross\_position\_value(float)             |
| get\_positions                    | View all current open positions across accounts including security details, quantities, average prices, and unrealized P/L calculations                   | account(str)<br />sec\_type(SecurityType)<br />currency(Currency)<br />market(Market)<br />symbol(str)<br />sub\_accounts(list\[str])<br />expiry(str)<br />strike(float)<br />put\_call(str)        | Position:<br />- account(str)<br />- contract(Contract)<br />- position\_qty(float)<br />- average\_cost(float)<br />- market\_price(float)<br />- unrealized\_pnl(float)                                                                                                   |
| get\_analytics\_asset             | Access analytical asset data including performance metrics, risk assessments, and portfolio allocation breakdowns for informed decision making            | account(str)<br />start\_date(str)<br />end\_date(str)<br />seg\_type(SegmentType)<br />currency(Currency)<br />sub\_account(str)                                                                    | dict:<br />- summary:<br />- pnl(float)<br />- pnl\_percentage(float)<br />- history:<br />- date(long)<br />- asset(float)<br />- pnl(float)                                                                                                                               |
| get\_segment\_fund\_available     | Check available funds for segment transfers between different account types or trading products with current transfer limits                              | from\_segment(str)<br />currency(str)                                                                                                                                                                | SegmentFundAvailableItem:<br />- from\_segment(str)<br />- currency(str)<br />- amount(float)                                                                                                                                                                               |
| transfer\_segment\_fund           | Execute fund transfers between account segments or product types following specified amount and destination parameters                                    | from\_segment(str)<br />to\_segment(str)<br />amount(float)<br />currency(str)                                                                                                                       | SegmentFundItem:<br />- id(long)<br />- from\_segment(str)<br />- to\_segment(str)<br />- amount(float)<br />- status(str)                                                                                                                                                  |
| cancel\_segment\_fund             | Cancel pending fund transfer requests between account segments if within allowable cancellation timeframe and status                                      | id(int)                                                                                                                                                                                              | SegmentFundItem:<br />- id(long)<br />- from\_segment(str)<br />- to\_segment(str)<br />- amount(float)<br />- status(str)                                                                                                                                                  |
| get\_segment\_fund\_history       | Review complete history of segment fund transfers including dates, amounts, statuses, and confirmation references                                         | limit(int)                                                                                                                                                                                           | list\[SegmentFundItem]:<br />- id(long)<br />- from\_segment(str)<br />- to\_segment(str)<br />- amount(float)<br />- status(str)                                                                                                                                           |
| get\_estimate\_tradable\_quantity | Calculate maximum allowable trading quantities for securities based on current positions, margin, and risk parameters                                     | order(Order)<br />seg\_type(str)                                                                                                                                                                     | TradableQuantityItem:<br />- tradable\_quantity(float)<br />- financing\_quantity(float)<br />- position\_quantity(float)                                                                                                                                                   |
| get\_funding\_history             | Access comprehensive funding transaction history including deposits, withdrawals, and transfers with timestamps and statuses                              | seg\_type(SegmentType)                                                                                                                                                                               | pandas.DataFrame:<br />- id(long)<br />- type(int)<br />- currency(str)<br />- amount(float)<br />- business\_date(str)                                                                                                                                                     |
| get\_fund\_details                | Retrieve detailed information about fund products including NAV, performance history, and portfolio composition                                           | seg\_types(list\[str])<br />account(str)<br />fund\_type(int)<br />currency(Currency)<br />start(int)<br />limit(int)<br />start\_date(str)<br />end\_date(str)<br />secret\_key(str)<br />lang(str) | pandas.DataFrame:<br />- id(int)<br />- desc(str)<br />- currency(str)<br />- amount(float)<br />- business\_date(str)                                                                                                                                                      |

### Get Contracts

| Method          | Description                                                                                                                           | Parameters                                                                                                                                         | Response                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------|---------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `get_contracts` | Retrieve multiple contract objects simultaneously with complete specifications including symbols, expiration dates, and trading terms | `symbol` (str)<br>`sec_type` (SecurityType)<br>`currency` (Currency)<br>`exchange` (str)<br>`expiry` (str)<br>`strike` (float)<br>`put_call` (str) | Contract Object:<br>- `symbol` (str)<br>- `sec_type` (str)<br>- `currency` (str)<br>- `exchange` (str)<br>- `expiry` (str)<br>- `strike` (float)<br>- `put_call` (str)<br>- `multiplier` (float)<br>- `name` (str)<br>- `market` (str)<br>- `identifier` (str)<br>- `shortable` (bool)<br>- `marginable` (bool)<br>- `min_tick` (float)<br>- `tick_sizes` (list)<br>- `status` (str)<br>- `trade` (bool)<br>- `lot_size` (float) |
| `get_contract`  | Access detailed information about specific trading contract including tick sizes, margin requirements, and settlement terms           | `symbol` (str)<br>`sec_type` (SecurityType)<br>`currency` (Currency)<br>`exchange` (str)                                                           | `list[Contract]`:<br>Each item contains same fields as Contract Object                                                                                                                                                                                                                                                                                                                                                           |

### Get Order Information

| Method                 | Description                                                                                                         | Parameters                                                                                                                                                                                                                                                   | Response                                                                                                                                                                                                                                                                                                                                                                                              |
|------------------------|---------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| get\_order             | Retrieve complete details of specific order including status, execution prices, remaining quantity, and timestamps  | account(str)<br />id(int)<br />order\_id(int)<br />is\_brief(bool)<br />show\_charges(bool)                                                                                                                                                                  | Order:<br />- account(str)<br />- id(long)<br />- order\_id(int)<br />- order\_time(long)<br />- status(str)<br />- action(str)<br />- quantity(float)<br />- filled(float)<br />- avg\_fill\_price(float)<br />- limit\_price(float)<br />- order\_type(str)<br />- time\_in\_force(str)<br />- contract(Contract)<br />- remaining(float)<br />- realized\_pnl(float)<br />- charges(list\[Charge]) |
| get\_orders            | Access multiple order records simultaneously with filtering options by date range, status, or security type         | account(str)<br />sec\_type(SecurityType)<br />market(Market)<br />symbol(str)<br />start\_time(str/int)<br />end\_time(str/int)<br />limit(int)<br />is\_brief(bool)<br />states(list\[OrderStatus])<br />sort\_by(OrderSortBy)<br />seg\_type(SegmentType) | list\[Order]:<br />- account(str)<br />- id(long)<br />- order\_id(int)<br />- parent\_id(int)<br />- order\_time(long)<br />- status(str)<br />- action(str)<br />- quantity(float)<br />- filled(float)<br />- avg\_fill\_price(float)<br />- limit\_price(float)<br />- order\_type(str)<br />- time\_in\_force(str)<br />- contract(Contract)<br />- remaining(float)<br />- realized\_pnl(float) |
| get\_open\_orders      | View all currently active/unfilled orders with real-time updates on status changes and partial executions           | account(str)<br />sec\_type(SecurityType)<br />market(Market)<br />symbol(str)<br />start\_time(str/int)<br />end\_time(str/int)<br />parent\_id(int)<br />sort\_by(OrderSortBy)<br />seg\_type(SegmentType)                                                 | list\[Order]:<br />(Same fields as get\_orders response)                                                                                                                                                                                                                                                                                                                                              |
| get\_cancelled\_orders | Review historical record of cancelled orders including cancellation timestamps, reasons, and original order details | account(str)<br />sec\_type(SecurityType)<br />market(Market)<br />symbol(str)<br />start\_time(str/int)<br />end\_time(str/int)<br />sort\_by(OrderSortBy)<br />seg\_type(SegmentType)                                                                      | list\[Order]:<br />(Same fields as get\_orders response)                                                                                                                                                                                                                                                                                                                                              |
| get\_filled\_orders    | Access complete history of filled orders with execution prices, quantities, fees, and commission breakdowns         | account(str)<br />sec\_type(SecurityType)<br />market(Market)<br />symbol(str)<br />start\_time(str/int)<br />end\_time(str/int)<br />sort\_by(OrderSortBy)<br />seg\_type(SegmentType)                                                                      | list\[Order]:<br />(Same fields as get\_orders response)                                                                                                                                                                                                                                                                                                                                              |
| get\_transactions      | Obtain detailed transaction records specifically for prime accounts including allocations and routing details       | account(str)<br />order\_id(int)<br />symbol(str)<br />sec\_type(SecurityType)<br />start\_time(str/int)<br />end\_time(str/int)<br />limit(int)<br />expiry(str)<br />strike(float)<br />put\_call(str)                                                     | list\[Transaction]:<br />- account(str)<br />- order\_id(int)<br />- exec\_id(str)<br />- exec\_time(long)<br />- symbol(str)<br />- sec\_type(str)<br />- side(str)<br />- price(float)<br />- quantity(float)<br />- commission(float)<br />- realized\_pnl(float)<br />- exchange(str)                                                                                                             |

### Place Orders

| Method       | Description                                                                                               | Parameters                                                                                                                                                                                                                                                                                                                                                  | Response                                                                                                                                                                        |
|--------------|-----------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| place\_order | Submit new trade orders with specified security, quantity, price, and order type parameters for execution | Order Object:<br />- account(str)<br />- contract(Contract)<br />- action(str)<br />- order\_type(str)<br />- quantity(float)<br />- limit\_price(float)<br />- aux\_price(float)<br />- trail\_stop\_price(float)<br />- trailing\_percent(float)<br />- time\_in\_force(str)<br />- outside\_rth(bool)<br />- order\_legs(list)<br />- algo\_params(dict) | Order Object:<br />- id(long)<br />- status(str)<br />- filled(float)<br />- avg\_fill\_price(float)<br />- remaining(float)<br />- contract(Contract)<br />- order\_time(long) |

### Modify or Cancel Orders

| Method        | Description                                                                                      | Parameters                                                                                                                                                                                     | Response          |
|---------------|--------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
| cancel\_order | Request cancellation of existing open orders before full or partial execution occurs in market   | account(str)<br />id(long)<br />order\_id(int)                                                                                                                                                 | bool (True/False) |
| modify\_order | Adjust parameters of existing open orders including quantity, price, or order type modifications | order(Order)<br />quantity(int)<br />limit\_price(float)<br />aux\_price(float)<br />trail\_stop\_price(float)<br />trailing\_percent(float)<br />time\_in\_force(str)<br />outside\_rth(bool) | bool (True/False) |

# Subscription APIs

### Account Changes

| Method                | Description                                                                                                                                                                                                   | Callback Method              | Parameters                                                                                      | Response                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|-------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| subscribe\_asset      | Receive real-time updates about all account balance changes including cash positions, margin values, buying power fluctuations, and asset valuations across multiple linked accounts with detailed breakdowns | PushClient.asset\_changed    | account (str): Tiger account number (optional - all accounts if None)                           | account: Account ID<br />currency: USD/HKD/etc.<br />segType: S (Stocks)<br />availableFunds: Available trading balance<br />netLiquidation: Total account value<br />equityWithLoan: Equity including loan value<br />buyingPower: Purchasing power<br />cashBalance: Cash amount<br />grossPositionValue: Total positions value<br />timestamp: Update time (ms) |
| unsubscribe\_asset    | Terminate automatic account balance updates and stop receiving notifications about cash position changes, margin requirements, or buying power adjustments across all monitored accounts                      | None                         | None                                                                                            | None                                                                                                                                                                                                                                                                                                                                                               |
| subscribe\_position   | Monitor live position changes including quantity adjustments, average price updates, unrealized profit/loss calculations, and market value fluctuations for all holdings in the portfolio                     | PushClient.position\_changed | account (str): Tiger account number (optional)<br />symbol (str): Filter by symbol (optional)   | account: Account ID<br />symbol: Ticker (AAPL/00700)<br />identifier: Unique contract ID<br />position: Current holdings<br />marketValue: Current value<br />avgCost: Average cost<br />unrealizedPnl: Unrealized P\&L<br />secType: STK/FUT/etc.<br />currency: USD/HKD/etc.<br />timestamp: Update time (ms)                                                    |
| unsubscribe\_position | Disable real-time position tracking and cease receiving automatic updates about portfolio holding changes, position size adjustments, or market value movements                                               | None                         | None                                                                                            | None                                                                                                                                                                                                                                                                                                                                                               |
| subscribe\_order      | Get instant notifications about all order status changes, including executions, partial fills, cancellations, rejections, and amendments with complete order details                                          | PushClient.order\_changed    | account (str): Tiger account number (optional)<br />order\_id (int): Filter by order (optional) | id: Order ID<br />account: Account number<br />symbol: Ticker symbol<br />action: BUY/SELL<br />status: FILLED/CANCELLED/etc.<br />filled: Executed qty<br />remaining: Pending qty<br />avgFillPrice: Avg execution price<br />limitPrice: Limit price<br />orderType: LMT/MKT/etc.<br />timestamp: Update time (ms)                                              |
| unsubscribe\_order    | Stop receiving real-time order status alerts and disable automatic updates about order executions, modifications, or cancellations across all accounts                                                        | None                         | None                                                                                            | None                                                                                                                                                                                                                                                                                                                                                               |

### Market Data Streaming

| Method                        | Description                                                                                                                                                                    | Callback Method                                               | Parameters                                                                                                                                             | Callback Data Fields                                                                                                                                                         |
|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ​​subscribe\_quote​​          | Stream live market data including best bid/ask prices, last trade values, trading volumes, and price change percentages for selected securities with millisecond updates       | PushClient.quote\_changed<br />PushClient.quote\_bbo\_changed | symbols (list\[str]): Ticker symbols<br />quote\_key\_type (QuoteKeyType): TRADE/QUOTE/ALL<br />focus\_keys (list\[str]): Specific fields to subscribe | ​​Basic Quote​​:<br />symbol, type, timestamp, latestPrice, volume, open, high, low, preClose<br /><br />​​BBO Quote​​:<br />askPrice, askSize, bidPrice, bidSize, timestamp |
| ​​unsubscribe\_quote​​        | Cancel real-time market data subscription for selected securities including price updates, bid/ask spreads, and trading volume notifications                                   | None                                                          | symbols (list\[str]): Ticker symbols to unsubscribe                                                                                                    | None                                                                                                                                                                         |
| ​​subscribe\_depth\_quote​​   | Access comprehensive order book depth showing liquidity at multiple price levels beyond the top of book, including aggregated size and individual order details when available | PushClient.quote\_depth\_changed                              | symbols (list\[str]): Ticker symbols                                                                                                                   | symbol, timestamp<br />ask: \[price, volume, count]<br />bid: \[price, volume, count]                                                                                        |
| ​​unsubscribe\_depth\_quote​​ | Terminate order book depth data subscription and stop receiving updates about market liquidity at different price levels                                                       | None                                                          | symbols (list\[str]): Ticker symbols                                                                                                                   | None                                                                                                                                                                         |
| ​​subscribe\_tick​​           | Receive tick-by-tick trade execution data with precise timestamps, trade prices, volumes, and exchange codes for analyzing market microstructure and trade patterns            | PushClient.tick\_changed                                      | symbols (list\[str]): Ticker symbols                                                                                                                   | symbol, timestamp<br />ticks: \[<br />price, volume, time,<br />type (+/ -/*), partCode<br />]                                                                               |
| ​​unsubscribe\_tick​​         | Disable tick-by-tick trade data streaming and cease receiving individual trade execution notifications                                                                         | None                                                          | symbols (list\[str]): Ticker symbols                                                                                                                   | None                                                                                                                                                                         |
| ​​query\_subscribed\_quote​​  | Check subscribed symbols. Retrieve current list of all actively subscribed market data symbols with their subscription types and status details                                | PushClient.query\_subscribed\_callback                        | None                                                                                                                                                   | subscribed\_symbols: List of symbols<br />limit/used: Subscription limits<br />subscribed\_depth\_symbols: Depth symbols                                                     |

### Specialized Subscription Types

| Method                     | Description                                                                                                                                                                        | Parameters                                                                                    | Notes                                         |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|-----------------------------------------------|
| ​​subscribe\_option​​      | Monitor real-time options market data including contract prices, Greeks (delta, gamma), implied volatility surfaces, open interest, and volume metrics for selected options chains | symbols (list\[str]): Format "SYMBOL YYYYMMDD STRIKE RIGHT" (e.g. "AAPL 20240119 150.0 CALL") | Shares quote\_changed callback                |
| ​​subscribe\_stock\_top​​  | Monitor top moving stocks based on customizable ranking criteria including price change percentage and trading volume                                                              | market (str): US/HK<br />indicators (list): \[StockRankingIndicator]                          | Pushes top 30 stocks per indicator every 30s  |
| ​​subscribe\_option\_top​​ | Track top performing options contracts filtered by metrics like implied volatility change and trading activity                                                                     | market (str): US<br />indicators (list): \[OptionRankingIndicator]                            | Pushes top 50 options per indicator every 30s |

### Other Events

| Callback Function               | Description      |
|---------------------------------|------------------|
| PushClient.connect\_callback    | Connected        |
| PushClient.disconnect\_callback | Disconnected     |
| PushClient.error\_callback      | Connection Error |

# Basic Function (Java)

## Quote APIs

### General

| Method                                               | Description                                                                                                                          | Parameters                     | Response                                                                                                  |
|------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|-----------------------------------------------------------------------------------------------------------|
| TigerHttpRequest(MethodName.GRAB\_QUOTE\_PERMISSION) | Request temporary access to market data feeds by specifying required data types and instruments for time-limited quoting permissions | None                           | name (string)<br />expireAt (long)                                                                        |
| TigerHttpRequest(MethodName.GET\_QUOTE\_PERMISSION)  | Retrieve current list of all authorized market data subscriptions showing accessible instruments and data types for the account      | None                           | name (string)<br />expireAt (long)                                                                        |
| TigerHttpRequest(MethodName.USER\_TOKEN\_REFRESH)    | Generate new authentication token while maintaining existing session connections and permissions without requiring full re-login     | None                           | tigerId (string)<br />license (string)<br />token (string)<br />createTime (long)<br />expiredTime (long) |
| KlineQuotaRequest                                    | Check remaining available K-line data requests under current subscription plan including usage limits and reset periods              | with\_details (bool, optional) | used (int)<br />remain (int)<br />method (String)<br />details (List)                                     |

### Stocks

| Method                          | Description                                                                                                                                  | Parameters                                                                                                                                                                                                                                                                | Response                                                                                                                                                                                                                                                                                                                    |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| QuoteMarketRequest              | Retrieve current trading status of exchanges including open/closed states, trading halts, and special market conditions affecting operations | market (enum: US/HK)<br />lang (enum: zh\_CN/zh\_TW/en\_US, optional)                                                                                                                                                                                                     | market (string)<br />marketStatus (string)<br />status (enum)<br />openTime (string)                                                                                                                                                                                                                                        |
| QuoteTradeCalendarRequest       | Obtain complete trading calendar showing market open days, holidays, early closures and special sessions for proper trade planning           | market (string)<br />begin\_date (string, yyyy-MM-dd, optional)<br />end\_date (string, yyyy-MM-dd, optional)                                                                                                                                                             | date (string)<br />type (enum: TRADING/EARLY\_CLOSE)                                                                                                                                                                                                                                                                        |
| QuoteSymbolRequest              | Fetch comprehensive list of stock symbols with corresponding company names organized by exchange and trading status                          | market (string)<br />include\_otc (boolean, optional)<br />lang (string, optional)                                                                                                                                                                                        | List\<String> (symbols)                                                                                                                                                                                                                                                                                                     |
| QuoteSymbolNameRequest          | Access complete symbol master list including all active and delisted instruments with their naming conventions                               | market (string)<br />include\_otc (boolean, optional)<br />lang (string, optional)                                                                                                                                                                                        | name (string)<br />symbol (string)                                                                                                                                                                                                                                                                                          |
| QuoteDelayRequest               | Receive delayed market data feeds (typically 15 minutes) compliant with exchange regulations for non-professional use                        | symbols (array, max 50)                                                                                                                                                                                                                                                   | close (double)<br />high (double)<br />low (double)<br />open (double)<br />preClose (double)<br />time (long)<br />volume (long)                                                                                                                                                                                           |
| QuoteTimelineRequest            | Stream intraday price timeline showing open, high, low and close values at regular intervals throughout trading session                      | symbols (array)<br />period (enum: day/day5)<br />trade\_session (enum: PreMarket/Regular/AfterHours, optional)<br />begin\_time (long, optional)<br />lang (string, optional)                                                                                            | symbol (string)<br />period (string)<br />preClose (double)<br />intraday (object)<br />preMarket (object, US only)<br />afterHours (object, US only)                                                                                                                                                                       |
| QuoteHistoryTimelineRequest     | Access historical intraday price movements at granular time intervals for backtesting and pattern analysis                                   | symbols (array)<br />date (string, yyyyMMdd)<br />right (enum: br/nr, optional)                                                                                                                                                                                           | symbol (string)<br />items (array: time, price, volume, avgPrice)                                                                                                                                                                                                                                                           |
| QuoteRealTimeQuoteRequest       | Receive real-time market data including bid/ask spreads, last trade prices, volumes and other essential trading metrics                      | symbols (array, max 50)<br />includeHourTrading (boolean, optional)<br />lang (string, optional)                                                                                                                                                                          | symbol (string)<br />open (double)<br />high (double)<br />low (double)<br />close (double)<br />preClose (double)<br />latestPrice (double)<br />latestTime (long)<br />askPrice (double)<br />askSize (long)<br />bidPrice (double)<br />bidSize (long)<br />volume (long)<br />status (string)<br />hourTrading (object) |
| QuoteKlineRequest               | Retrieve historical OHLC price bars across multiple timeframes from minutes to months for technical analysis                                 | symbols (array, max 50)<br />period (enum)<br />trade\_session (enum, optional)<br />right (string, optional)<br />begin\_time (long, optional)<br />end\_time (long, optional)<br />limit (int, optional)<br />lang (string, optional)<br />pageToken (string, optional) | symbol (string)<br />period (string)<br />nextPageToken (string)<br />items (array: time, open, high, low, close, volume, amount)                                                                                                                                                                                           |
| QuoteDepthRequest               | Access complete order book depth showing liquidity at various price levels beyond best bid/ask                                               | symbols (array, max 50)<br />market (string)                                                                                                                                                                                                                              | symbol (string)<br />asks (array: price, volume, count)<br />bids (array: price, volume, count)                                                                                                                                                                                                                             |
| QuoteTradeTickRequest           | Obtain tick-by-tick trade execution data with precise timestamps for microstructure analysis                                                 | symbols (array)<br />trade\_session (enum, optional)<br />beginIndex (long)<br />endIndex (long)<br />limit (int, optional)<br />lang (string, optional)                                                                                                                  | beginIndex (long)<br />endIndex (long)<br />symbol (string)<br />items (array: time, price, volume, type)                                                                                                                                                                                                                   |
| QuoteStockTradeRequest          | Check essential trading requirements including lot sizes, tick sizes and other contract specifications                                       | symbols (array, max 50)                                                                                                                                                                                                                                                   | symbol (string)<br />lotSize (int)<br />spreadScale (int)<br />minTick (double)                                                                                                                                                                                                                                             |
| QuoteCapitalFlowRequest         | Track money movement patterns between sectors showing fund inflows/outflows indicating sentiment shifts                                      | symbol (string)<br />period (enum)<br />market (string)                                                                                                                                                                                                                   | symbol (string)<br />period (string)<br />items (array: netInflow, time, timestamp)                                                                                                                                                                                                                                         |
| QuoteCapitalDistributionRequest | Analyze capital allocation across price levels revealing concentration zones and potential support/resistance areas                          | symbol (string)<br />market (string)<br />lang (string, optional)                                                                                                                                                                                                         | symbol (string)<br />netInflow (double)<br />inAll (double)<br />inBig (double)<br />inMid (double)<br />inSmall (double)<br />outAll (double)<br />outBig (double)<br />outMid (double)<br />outSmall (double)                                                                                                             |
| QuoteTradeRankRequest           | Rank stocks based on trading activity metrics to identify most actively traded securities                                                    | market (enum: US/HK)<br />lang (string, optional)                                                                                                                                                                                                                         | symbol (string)<br />name (string)<br />market (string)<br />changeRate (double)<br />sellOrderRate (double)<br />buyOrderRate (double)<br />hourTrading (object)                                                                                                                                                           |

### Options

| Method                       | Description                                                                        | Parameters                                                                                                                                                                 | Response                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|------------------------------|------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| OptionExpirationQueryRequest | List all available expiration dates for options on specified underlying assets     | symbols (array, max 30)<br />market (enum: US/HK, optional)                                                                                                                | symbol (string)<br />dates (array)<br />timestamps (array)<br />periodTags (array)<br />optionSymbols (array)<br />count (int)                                                                                                                                                                                                                                                                                                                                 |
| OptionChainQueryV3Request    | Retrieve complete option chain showing all strikes and months for given underlying | items (array: symbol, expiry)<br />filter (object: inTheMoney, implied\_volatility, open\_interest, greeks)<br />market (enum: US/HK)                                      | symbol (string)<br />expiry (long)<br />items (array: put/call objects with option details)                                                                                                                                                                                                                                                                                                                                                                    |
| OptionBriefQueryV2Request    | Obtain current pricing data including Greeks and implied volatility for options    | items (array: symbol, right, strike, expiry)<br />market (string, optional)                                                                                                | identifier (string)<br />symbol (string)<br />strike (string)<br />bidPrice (double)<br />bidSize (int)<br />askPrice (double)<br />askSize (int)<br />latestPrice (double)<br />volume (int)<br />high (double)<br />low (double)<br />open (double)<br />preClose (double)<br />openInterest (int)<br />change (double)<br />multiplier (int)<br />right (string)<br />volatility (string)<br />expiry (long)<br />ratesBonds (double)<br />timestamp (long) |
| OptionKlineQueryV2Request    | Access historical price movements of options contracts for performance analysis    | items (array: symbol, right, strike, expiry, beginTime, endTime, period, limit, sortDir)<br />market (enum: US/HK, optional)                                               | symbol (string)<br />period (string)<br />nextPageToken (string)<br />items (array: open, close, high, low, time, volume, amount, openInterest)                                                                                                                                                                                                                                                                                                                |
| OptionTradeTickQueryRequest  | Receive tick-by-tick trade executions showing exact transaction details            | items (array: symbol, right, strike, expiry)                                                                                                                               | symbol (string)<br />expiry (long)<br />strike (string)<br />right (string)<br />items (array: price, time, volume)                                                                                                                                                                                                                                                                                                                                            |
| OptionDepthQueryRequest      | View complete options order book with market depth at various strike prices        | market (enum: HK)<br />lang (enum: zh\_CN/zh\_TW/en\_US, optional)                                                                                                         | symbol (string)<br />expiry (long)<br />strike (string)<br />right (string)<br />timestamp (long)<br />ask (array: price, code, timestamp, volume, count)<br />bid (array: price, code, timestamp, volume, count)                                                                                                                                                                                                                                              |
| OptionFundamentals           | Calculate essential option pricing indicators and risk parameters                  | client (TigerHttpClient)<br />symbol (string)<br />right (string: CALL/PUT)<br />strike (string)<br />expiry (string, yyyy-MM-dd)<br />underlyingSymbol (string, optional) | delta (double)<br />gamma (double)<br />theta (double)<br />vega (double)<br />rho (double)<br />predictedValue (double)<br />timeValue (double)<br />premiumRate (double)<br />profitRate (double)<br />volatility (double)<br />leverage (double)<br />insideValue (double)<br />historyVolatility (double)<br />openInterest (integer)<br />metricParam (string)                                                                                            |

## Trading APIs

### Get Account Information

| Method                                | Description                                                                                                                                  | Parameters                                                                                                                                                                                                                                                                                                                                                                                      | Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TigerHttpRequest(MethodName.ACCOUNTS) | Retrieve complete list of all trading accounts under main account including account numbers, types, and permissions for portfolio management | account (string, optional)                                                                                                                                                                                                                                                                                                                                                                      | account (string)<br />capability (string)<br />status (string)<br />accountType (string)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| PositionsRequest                      | Access all current open positions across accounts including security details, quantities, average prices, and unrealized P/L calculations    | account (string, required)<br />sec\_type (string, optional: STK/OPT/FUT/FUND)<br />currency (string, optional)<br />market (string, optional)<br />symbol (string, optional)<br />secret\_key (string, optional)<br />expiry (string, optional)<br />strike (double, optional)<br />right (string, optional)<br />asset\_quote\_type (string, optional)                                        | account (string)<br />positionQty (double)<br />salableQty (double)<br />averageCost (double)<br />latestPrice (double)<br />marketValue (double)<br />realizedPnl (double)<br />unrealizedPnl (double)<br />multiplier (double)<br />market (string)<br />currency (string)<br />secType (string)<br />identifier (string)<br />symbol (string)<br />strike (double)<br />expiry (string)<br />right (string)<br />updateTimestamp (long)<br />mmPercent (double)<br />mmValue (double)<br />todayPnl (double)<br />yesterdayPnl (double)<br />lastClosePrice (double)<br />categories (list)                                                                                                       |
| PrimeAssetRequest                     | View detailed asset breakdown specifically for prime/paper trading accounts with simulated balances                                          | account (string, required)<br />base\_currency (string, optional)<br />secret\_key (string, optional)<br />consolidated (boolean, optional)                                                                                                                                                                                                                                                     | account (string)<br />currency (string)<br />category (string)<br />capability (string)<br />buyingPower (double)<br />cashAvailableForTrade (double)<br />cashAvailableForWithdrawal (double)<br />cashBalance (double)<br />grossPositionValue (double)<br />initMargin (double)<br />maintainMargin (double)<br />overnightMargin (double)<br />excessLiquidation (double)<br />overnightLiquidation (double)<br />netLiquidation (double)<br />equityWithLoan (double)<br />realizedPL (double)<br />totalTodayPL (double)<br />unrealizedPL (double)<br />leverage (double)<br />currencyAssets (object)<br />consolidatedSegTypes (string)<br />lockedFunds (double)<br />uncollected (double) |
| PrimeAnalyticsAssetRequest            | Access historical asset performance analytics including risk metrics, allocation trends, and portfolio comparisons                           | account (string, required)<br />start\_date (string, optional)<br />end\_date (string, optional)<br />seg\_type (enum, optional)<br />currency (enum, optional)<br />sub\_account (string, optional)<br />secret\_key (string, optional)                                                                                                                                                        | pnl (double)<br />pnlPercentage (double)<br />annualizedReturn (double)<br />overUserPercentage (double)<br />date (long)<br />asset (double)<br />cashBalance (double)<br />grossPositionValue (double)<br />deposit (double)<br />withdrawal (double)                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| SegmentFundAvailableRequest           | Check available funds eligible for transfer between different account segments or product types                                              | account (string, required)<br />from\_segment (string, required: FUT/SEC)<br />currency (string, optional)                                                                                                                                                                                                                                                                                      | fromSegment (string)<br />currency (string)<br />amount (double)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SegmentFundTransferRequest            | Execute fund transfers between account segments following specified amount and destination parameters                                        | account (string, required)<br />from\_segment (string, required: FUT/SEC)<br />to\_segment (string, required: FUT/SEC)<br />currency (string, required)<br />amount (double, required)                                                                                                                                                                                                          | id (long)<br />fromSegment (string)<br />toSegment (string)<br />currency (string)<br />amount (double)<br />status (string)<br />statusDesc (string)<br />message (string)<br />settledAt (long)<br />updatedAt (long)<br />createdAt (long)                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| SegmentFundCancelRequest              | Cancel pending fund transfer requests if within allowable cancellation timeframe and status                                                  | account (string, required)<br />id (long, required)                                                                                                                                                                                                                                                                                                                                             | id (long)<br />fromSegment (string)<br />toSegment (string)<br />currency (string)<br />amount (double)<br />status (string)<br />statusDesc (string)<br />message (string)<br />settledAt (long)<br />updatedAt (long)<br />createdAt (long)                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| SegmentFundHistoryRequest             | Review complete history of segment fund transfers including dates, amounts, and statuses                                                     | account (string, required)<br />limit (integer, optional, default=100)                                                                                                                                                                                                                                                                                                                          | items (array):<br />id (long)<br />fromSegment (string)<br />toSegment (string)<br />currency (string)<br />amount (double)<br />status (string)<br />statusDesc (string)<br />settledAt (long)<br />updatedAt (long)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| EstimateTradableQuantityRequest       | Calculate maximum allowable trading quantities based on current positions, margin, and risk limits                                           | account (string, required)<br />symbol (string, required)<br />expiry (string, optional)<br />right (string, optional)<br />strike (string, optional)<br />seg\_type (enum, optional)<br />sec\_type (enum, optional)<br />action (enum, required)<br />order\_type (enum, required)<br />limit\_price (double, optional)<br />stop\_price (double, optional)<br />secretKey (string, optional) | tradableQuantity (double)<br />financingQuantity (double)<br />positionQuantity (double)<br />tradablePositionQuantity (double)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| DepositWithdrawRequest                | Access comprehensive history of all deposits and withdrawals with timestamps and statuses                                                    | account (string, required)<br />secretKey (string, optional)<br />lang (enum, optional)                                                                                                                                                                                                                                                                                                         | items (array):<br />id (long)<br />refId (string)<br />type (int)<br />typeDesc (string)<br />currency (string)<br />amount (double)<br />businessDate (string)<br />completedStatus (bool)<br />createdAt (long)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| FundDetailRequest                     | Retrieve information about fund details including NAV, performance, and portfolio composition                                                | segTypes (array, required)<br />account (string, required)<br />fundType (enum, optional)<br />currency (string, optional)<br />startDate (string, optional)<br />endDate (string, optional)<br />start (long, optional)<br />limit (long, optional)<br />secretKey (string, optional)<br />lang (enum, optional)                                                                               | id (long)<br />desc (string)<br />currency (string)<br />segType (string)<br />type (string)<br />amount (double)<br />businessDate (string)<br />updatedAt (long)<br />page (int)<br />limit (int)<br />itemCount (int)<br />pageCount (int)<br />contractName (string)                                                                                                                                                                                                                                                                                                                                                                                                                             |

### Get Contract Information

| Method               | Description                                                                                            | Parameters                                                                                                                                                                                 | Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|----------------------|--------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ContractRequest      | Access detailed specifications for single trading contract including symbols, terms, and trading rules | account(string)<br />symbol(string)<br />sec\_type(string)<br />currency(string)<br />expiry(string)<br />strike(double)<br />right(string)<br />exchange(string)<br />secret\_key(string) | identifier(string)<br />name(string)<br />contractId(int)<br />symbol(string)<br />secType(string)<br />expiry(string)<br />contractMonth(string)<br />strike(double)<br />right(string)<br />type(string)<br />multiplier(double)<br />lotSize(int)<br />exchange(string)<br />primaryExchange(string)<br />market(string)<br />currency(string)<br />localSymbol(string)<br />tradingClass(string)<br />minTick(double)<br />tickSizes(array)<br />marginable(boolean)<br />longInitialMargin(double)<br />longMaintenanceMargin(double)<br />shortInitialMargin(double)<br />shortMaintenanceMargin(double)<br />shortable(boolean)<br />shortableCount(int)<br />shortFeeRate(double)<br />tradeable(boolean)<br />closeOnly(boolean)<br />continuous(boolean)<br />lastTradingDate(string)<br />firstNoticeDate(string)<br />lastBiddingCloseTime(long)<br />isEtf(boolean)<br />etfLeverage(int)<br />discountedDayInitialMargin(double)<br />discountedDayMaintenanceMargin(double)<br />discountedTimeZoneCode(string)<br />discountedStartAt(string)<br />discountedEndAt(string)<br />supportOvernightTrading(boolean) |
| ContractsRequest     | Retrieve multiple contract objects simultaneously with complete trading specifications and identifiers | account(string)<br />symbols(List)<br />sec\_type(string)<br />currency(string)<br />secret\_key(string)                                                                                   | identifier(string)<br />name(string)<br />contractId(int)<br />symbol(string)<br />secType(string)<br />expiry(string)<br />contractMonth(string)<br />strike(double)<br />right(string)<br />type(string)<br />multiplier(double)<br />exchange(string)<br />primaryExchange(string)<br />market(string)<br />currency(string)<br />localSymbol(string)<br />tradingClass(string)<br />minTick(double)<br />tickSizes(array)<br />marginable(boolean)<br />longInitialMargin(double)<br />longMaintenanceMargin(double)<br />shortInitialMargin(double)<br />shortMaintenanceMargin(double)<br />shortable(boolean)<br />shortableCount(int)<br />shortFeeRate(double)<br />tradeable(boolean)<br />closeOnly(boolean)<br />continuous(boolean)<br />lastTradingDate(string)<br />firstNoticeDate(string)<br />lastBiddingCloseTime(long)<br />isEtf(boolean)<br />etfLeverage(int)<br />supportOvernightTrading(boolean)                                                                                                                                                                                                       |
| QuoteContractRequest | Obtain contract details specifically for options including strike prices and expiration dates          | symbols(string)<br />sec\_type(string)<br />expiry(string)<br />lang(string)                                                                                                               | symbol(string)<br />name(string)<br />exchange(string)<br />market(string)<br />secType(string)<br />currency(string)<br />expiry(string)<br />right(string)<br />strike(string)<br />multiplier(double)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

### Get Order Information

| Method                                           | Description                                                                                           | Parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|--------------------------------------------------|-------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| QueryOrderRequest(MethodName.ORDERS)             | Access multiple order records simultaneously with filtering by date range, status, or security type   | Get a single order:<br />account(string)<br />id(int)<br />secret\_key(string)<br />show\_charges(bool)<br /><br />Get a list of orders:<br />account(string)<br />seg\_type(SegmentType)<br />sec\_type(string)<br />market(string)<br />symbol(string)<br />expiry(string)<br />strike(string)<br />right(string)<br />start\_date(string)<br />end\_date(string)<br />states(array)<br />isBrief(boolean)<br />limit(integer)<br />sort\_by(OrderSortBy)<br />secret\_key(string)<br />lang(string)<br />page\_token(string)<br /> | id(long)<br />orderId(long)<br />externalId(long)<br />parentId(long)<br />account(string)<br />action(string)<br />orderType(string)<br />limitPrice(double)<br />auxPrice(double)<br />trailingPercent(double)<br />totalQuantity(int)<br />totalQuantityScale(int)<br />timeInForce(string)<br />expireTime(long)<br />outsideRth(boolean)<br />filledQuantity(int)<br />filledQuantityScale(int)<br />totalCashAmount(double)<br />filledCashAmount(double)<br />refundCashAmount(double)<br />avgFillPrice(double)<br />liquidation(boolean)<br />remark(string)<br />status(string)<br />attrDesc(string)<br />commission(double)<br />commissionCurrency(string)<br />gst(double)<br />realizedPnl(double)<br />percentOffset(double)<br />openTime(long)<br />updateTime(long)<br />latestTime(long)<br />symbol(string)<br />currency(string)<br />market(string)<br />multiplier(double)<br />secType(string)<br />userMark(string)<br />canModify(boolean)<br />canCancel(boolean)<br />isOpen(boolean)<br />replaceStatus(string)<br />cancelStatus(string)<br />charges(array)<br />commissionDiscountAmount(double)<br />orderDiscountAmount(double)<br />orderDiscount(int) |
| TigerHttpRequest(MethodName.ORDER\_TRANSACTIONS) | Retrieve detailed transaction records including executions, allocations, and routing details          | See get orders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | See get orders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| QueryOrderRequest(MethodName.ACTIVE\_ORDERS)     | View all currently open/unfilled orders with real-time status updates and partial execution details   | See get orders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | See get orders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| QueryOrderRequest(MethodName.FILLED\_ORDERS)     | Access complete history of filled orders with execution prices, quantities, and commission breakdowns | See get orders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | See get orders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| QueryOrderRequest(MethodName.INACTIVE\_ORDERS)   | Review historical record of cancelled orders including timestamps and cancellation reasons            | account(string)<br />order\_id(long)<br />symbol(string)<br />sec\_type(string)<br />expiry(string)<br />right(string)<br />start\_date(long)<br />end\_date(long)<br />limit(int)<br />secretKey(string)                                                                                                                                                                                                                                                                                                                             | id(long)<br />accountId(long)<br />orderId(long)<br />secType(string)<br />symbol(string)<br />currency(string)<br />market(string)<br />action(string)<br />filledQuantity(int)<br />filledPrice(double)<br />filledAmount(double)<br />transactedAt(string)<br />transactionTime(long)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

### Place Order

| Method            | Description                                                                                 | Parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Response                                     |
|-------------------|---------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
| TradeOrderRequest | Submit new trade orders with specified security, quantity, price, and order type parameters | Common attributes:<br />account(string)<br />order\_id(int)<br />symbol(string)<br />sec\_type(string)<br />action(string)<br />order\_type(string)<br />total\_quantity(long)<br />total\_quantity\_scale(int)<br />cash\_amount(double)<br />limit\_price(float)<br />aux\_price(float)<br />trailing\_percent(float)<br />outside\_rth(boolean)<br />trading\_session\_type(TradingSessionType)<br />adjust\_limit(float)<br />market(string)<br />currency(string)<br />time\_in\_force(string)<br />expire\_time(long)<br />exchange(string)<br />expiry(string)<br />strike(string)<br />right(string)<br />multiplier(float)<br />local\_symbol(string)<br />secret\_key(string)<br />user\_mark(string)<br />attached order parameter:<br />attach\_type(string)<br />profit\_taker\_order\_id(int)<br />profit\_taker\_price(float)<br />profit\_taker\_tif(string)<br />profit\_taker\_rth(boolean)<br />stop\_loss\_order\_id(int)<br />stop\_loss\_price(float)<br />stop\_loss\_limit\_price(float)<br />stop\_loss\_tif(string)<br />stop\_loss\_trailing\_percent(float)<br />stop\_loss\_trailing\_amount(float)<br />TWAP/VWAP order parameter:<br />attach\_type(string)<br />profit\_taker\_price(float)<br />stop\_loss\_price(float)<br />stop\_loss\_trailing\_percent(float)<br />algo\_params(List) | id(long)<br />subIds(List)<br />orders(List) |

### Cancel or Modify

| Method                                     | Description                                                                                      | Parameters                                                                                                                                                                                          | Response |
|--------------------------------------------|--------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| TigerHttpRequest(MethodName.MODIFY\_ORDER) | Adjust parameters of existing open orders including quantity, price, or order type modifications | account(string)<br />id(long)<br />total\_quantity(long)<br />total\_quantity\_scale(int)<br />limit\_price(double)<br />aux\_price(double)<br />trailing\_percent(double)<br />secret\_key(string) | id(long) |
| TigerHttpRequest(MethodName.CANCEL\_ORDER) | Request cancellation of open orders before full or partial execution occurs in market            | account(string)<br />id(long)<br />secret\_key(string)                                                                                                                                              | id(long) |

# Subscription APIs

### Account Change

| Method          | Description                                                                                                                                                  | Callback Method                                                                      | Parameters                            | Response   | Callback Data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|---------------------------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| subscribe       | Track real-time account changes including order status updates, position adjustments, asset movements, and transaction activities across all linked accounts | subscribeEnd, orderStatusChange, positionChange, assetChange, orderTransactionChange | account(string)<br />subject(Subject) | id(string) | ​​Asset Data​​<br />account(string)<br />currency(string)<br />segType(string)<br />availableFunds(double)<br />excessLiquidity(double)<br />netLiquidation(double)<br />equityWithLoan(double)<br />buyingPower(double)<br />cashBalance(double)<br />grossPositionValue(double)<br />initMarginReq(double)<br />maintMarginReq(double)<br />timestamp(long)<br />​​Position Data​​<br />account(string)<br />symbol(string)<br />expiry(string)<br />strike(string)<br />right(string)<br />identifier(string)<br />multiplier(int)<br />market(string)<br />currency(string)<br />segType(string)<br />secType(string)<br />positionQty(double)<br />salableQty(double)<br />averageCost(double)<br />latestPrice(double)<br />marketValue(double)<br />unrealizedPnl(double)<br />name(string)<br />timestamp(long)<br />Order Status Data<br />id(long)<br />account(string)<br />symbol(string)<br />expiry(string)<br />strike(string)<br />right(string)<br />identifier(string)<br />multiplier(int)<br />action(string)<br />market(string)<br />currency(string)<br />segType(string)<br />secType(string)<br />orderType(string)<br />isLong(boolean)<br />totalQuantity(long)<br />totalQuantityScale(int)<br />filledQuantity(long)<br />filledQuantityScale(int)<br />avgFillPrice(double)<br />limitPrice(double)<br />stopPrice(double)<br />realizedPnl(double)<br />status(string)<br />replaceStatus(string)<br />cancelStatus(string)<br />outsideRth(boolean)<br />canModify(boolean)<br />canCancel(boolean)<br />liquidation(boolean)<br />name(string)<br />source(string)<br />errorMsg(string)<br />attrDesc(string)<br />commissionAndFee(float)<br />openTime(long)<br />timestamp(long)<br />userMark(string)<br />totalCashAmount(double)<br />filledCashAmount(double)<br />Order Transaction Data<br />id(long)<br />orderId(long)<br />account(string)<br />symbol(string)<br />identifier(string)<br />multiplier(int)<br />action(string)<br />market(string)<br />currency(string)<br />segType(string)<br />secType(string)<br />filledPrice(double)<br />filledQuantity(long)<br />createTime(long)<br />updateTime(long)<br />transactTime(long)<br />timestamp(long) |
| cancelSubscribe | Terminate all account change notifications and stop receiving updates about order status, positions, assets, and transactions                                | cancelSubscribeEnd                                                                   | subject(Subject)                      | None       | None                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

### Subscription

| Method                                 | Description                                                                                                                                                                   | Callback Method                                | Parameters                          | Response                                                                                                                                                                                                                       |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| subscribeQuote                         | Stream real-time stock quotes including last price, bid/ask spreads, and trading volume updates for selected securities                                                       | subscribeEnd, quoteChange, quoteAskBidChange   | symbols(Set)                        | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeQuoteopen in new window | Disable real-time stock quote streaming and cease receiving price updates for previously subscribed symbols                                                                   | cancelSubscribeEnd                             | symbols(Set)                        | None                                                                                                                                                                                                                           |
| subscribeOption                        | Monitor live options pricing data including contract values, Greeks, and implied volatility for selected contracts                                                            | subscribeEnd, optionChange, optionAskBidChange | symbols(Set)                        | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeOption                  | Stop receiving real-time options pricing updates and terminate streaming for specified option contracts                                                                       | cancelSubscribeEnd                             | symbols(Set)                        | None                                                                                                                                                                                                                           |
| subscribeDepthQuote                    | Access full order book depth data showing liquidity at multiple price levels beyond best bid/ask                                                                              | subscribeEnd, depthQuoteChange                 | symbols(Set)                        | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeDepthQuote              | Terminate order book depth updates and stop receiving market depth information                                                                                                | cancelSubscribeEnd                             | symbols(Set)                        | None                                                                                                                                                                                                                           |
| subscribeTradeTick                     | Receive tick-by-tick trade execution data with precise timestamps and transaction details                                                                                     | subscribeEnd, tradeTickChange                  | symbols(Set)                        | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeTradeTick               | Disable tick-by-tick trade data streaming and cease receiving individual trade notifications                                                                                  | cancelSubscribeEnd                             | symbols(Set)                        | None                                                                                                                                                                                                                           |
| subscribeStockTop                      | Monitor top moving stocks based on customizable ranking criteria including price change and volume                                                                            | subscribeEnd, stockTopPush                     | market(Market)<br />indicators(Set) | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeStockTop                | Stop receiving updates about top moving stocks and terminate the ranking data stream                                                                                          | cancelSubscribeEnd                             | market(Market)<br />indicators(Set) | None                                                                                                                                                                                                                           |
| subscribeOptionTop                     | Track top performing options contracts filtered by metrics like implied volatility and activity                                                                               | subscribeEnd, optionTopPush                    | market(Market)<br />indicators(Set) | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeOptionTop               | Disable top options data streaming and cease receiving ranking updates                                                                                                        | cancelSubscribeEnd                             | market(Market)<br />indicators(Set) | None                                                                                                                                                                                                                           |
| subscribeTradeTick                     | Receive complete tick-by-tick trade execution data including all market transactions with precise timestamps, prices, and volumes for detailed market microstructure analysis | subscribeEnd, fullTickChange                   | symbols(Set)                        | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeTradeTick               | Terminate full tick data streaming and stop receiving granular trade execution updates for previously subscribed securities                                                   | cancelFullSubscribeEnd                         | symbols(Set)                        | None                                                                                                                                                                                                                           |
| subscribeKline                         | Receive minute-level OHLC price bar updates for technical analysis and charting purposes                                                                                      | subscribeEnd, klineChange                      | symbols(Set)                        | id(string)                                                                                                                                                                                                                     |
| cancelSubscribeKline                   | Terminate minute bar updates and stop receiving OHLC price data streams                                                                                                       | cancelSubscribeEnd                             | symbols(Set)                        | None                                                                                                                                                                                                                           |
| getSubscribedSymbols                   | Retrieve current list of all actively subscribed market data symbols with their subscription status                                                                           | getSubscribedSymbolEnd                         | None                                | limit(int)<br />used(int)<br />subscribedSymbols(array)<br />askBidLimit(int)<br />askBidUsed(int)<br />subscribedAskBidSymbols(array)<br />tradeTickLimit(int)<br />tradeTickUsed(int)<br />subscribedTradeTickSymbols(array) |

| Callback Type         | Data Structure                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ​​Quote Basic Data​​  | symbol(string)<br />type(string)<br />timestamp(long)<br />avgPrice(double)<br />latestPrice(double)<br />latestPriceTimestamp(long)<br />preClose(double)<br />volume(long)<br />amount(double)<br />open(double)<br />high(double)<br />low(double)<br />marketStatus(string)                                                                                                                                                 |
| ​​Quote BBO Data​​    | symbol(string)<br />type(string)<br />timestamp(long)<br />askPrice(double)<br />askSize(long)<br />bidPrice(double)<br />bidSize(long)                                                                                                                                                                                                                                                                                         |
| ​​Option Quote Data​​ | symbol(string)<br />type(string)<br />timestamp(long)<br />latestPrice(double)<br />preClose(double)<br />volume(long)<br />amount(double)<br />open(double)<br />high(double)<br />low(double)<br />identifier(string)<br />openInt(long)                                                                                                                                                                                      |
| ​​Depth Quote Data​​  | symbol(string)<br/>timestamp(long)<br/>ask(List\<OrderBook>)<br/>bid(List\<OrderBook>)<br/>OrderBook: price(double), volume(long), orderCount(int)                                                                                                                                                                                                                                                                              |
| ​​Trade Tick Data​​   | symbol(string)<br/>secType(string)<br/>timestamp(long)<br/>ticks(List\<Tick>)<br/>Tick: sn(long), time(long), price(double), volume(long), type(string), cond(string)                                                                                                                                                                                                                                                         |
| ​​Stock Top Data​​    | market(string<br/>timestamp(long)<br/>topData(List\<TopData>)<br/>TopData: targetName(string), item(List\<StockItem>)<br/>StockItem: symbol(string), latestPrice(double), targetValue(double)                                                                                                                                                                                                                                   |
| ​​Option Top Data​​   | market(string)<br/>timestamp(long)<br/>topData(List\<TopData>)<br/>TopData: targetName(string), bigOrder(List\<BigOrder>), item(List\<OptionItem>)<br/>BigOrder: symbol(string), expiry(string), strike(string), right(string), dir(string), volume(double), price(double), amount(double)<br/>OptionItem: symbol(string), expiry(string), strike(string), right(string), totalAmount(double), totalVolume(double), totalOpenInt(double) |
| ​​Full Tick Data​​    | symbol(string)<br/>timestamp(long)<br/>ticks(List\<Tick>)<br/>Tick: sn(long), time(long), price(float), volume(long), type(string), cond(string), partCode(string)                                                                                                                                                                                                                                                              |
| ​​K-line Data​​       | symbol(string)<br />time(long)<br />open(float)<br />high(float)<br />low(float)<br />close(float)<br />avg(float)<br />volume(long)<br />count(int)<br />amount(double)<br />serverTimestamp(long)                                                                                                                                                                                                                             |

### Other Events

| Events                                                 | Description                                                                                                                                                                       |
|--------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| void connectAck()                                      | Connection established                                                                                                                                                            |
| void connectionClosed()                                | Connection closed                                                                                                                                                                 |
| void error(String errorMsg)                            | Error                                                                                                                                                                             |
| void error(int id, int errorCode, String errorMsg)     | Error                                                                                                                                                                             |
| void connectionKickout(int errorCode, String errorMsg) | Kicked by another connection. The SDK will close the local TCP connection. Please do not implement reconnection in this method, it will cause constant kicks and affect data push |
| void hearBeat(String s)                                | Connection heartbeat callback                                                                                                                                                     |
